<controls:MetroWindow x:Class="Hurricane.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:vm="clr-namespace:Hurricane.ViewModels"
        xmlns:ex="clr-namespace:Hurricane.Extensions"
        xmlns:userControls="clr-namespace:Hurricane.Views.UserControls"
        Title="{DynamicResource Settings}" Height="400" Width="600" ResizeMode="NoResize" WindowStartupLocation="CenterScreen" ShowInTaskbar="False" DataContext="{x:Static vm:SettingsViewModel.Instance}" GlowBrush="{DynamicResource AccentColorBrush}">
    <Window.Resources>
        <Style TargetType="TabItem">
            <Setter Property="Visibility" Value="Collapsed"/>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>
        <TabControl x:Name="TabControl">
            <TabItem>
                <userControls:SettingsView ShowAbout="False" Margin="-5"/>
            </TabItem>
            <TabItem>
                <userControls:AboutView />
            </TabItem>
        </TabControl>
        <Grid Grid.Row="1" Grid.ColumnSpan="2" Grid.IsSharedSizeScope="True" Background="{DynamicResource GrayBrush10}">
            <Separator VerticalAlignment="Top"/>
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition SharedSizeGroup="Buttons"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition SharedSizeGroup="Buttons"/>
                </Grid.ColumnDefinitions>
                <ToggleButton Width="100" Click="Button_Click">
                    <TextBlock ex:TextBlockHelper.UpperText="{DynamicResource About}"/>
                </ToggleButton>
                <Button Content="Language" Grid.Column="2" Command="{Binding ShowLanguages}"/>
                <!-- This should always be in english! -->
            </Grid>

            <Grid HorizontalAlignment="Right" Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition SharedSizeGroup="Buttons"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition SharedSizeGroup="Buttons"/>
                </Grid.ColumnDefinitions>
                <Button Content="{DynamicResource Apply}" Command="{Binding ApplyChanges}" IsEnabled="{Binding CanApply}"/>
                <Button Content="{DynamicResource Close}" Grid.Column="2" Click="CloseButton_Click"/>
            </Grid>
        </Grid>
    </Grid>
</controls:MetroWindow>
